<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Speech To Text</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
<h1>Welcome</h1>
<h3>Please Speak</h3>
        <div class="words" contenteditable>
            <p></p>
        </div>
        <script> 
                window.SpeechRecognition =window.SpeechRecognition || window.webkitSpeechRecognition;


                const recognition =new SpeechRecognition;
                recognition.interimResults =true;
                var display = document.querySelector('.white-o');
                
                let firstp=document.querySelector('p')
                let p = document.createElement('p');
                const words =document.querySelector('.words');
                //words.appendChild(p);
        
                recognition.addEventListener('result', e => {
                    console.log(e.results);
                    const transcript =Array.from(e.results).map(result => result.transcript).join('');           
                    firstp.textContent += " " + e.results[0][0].transcript;
                    //console.log(e.results[0][0].transcript);
                    console.log(transcript);
        
                    if(e.results[0][0].isFinal){            
                        p = document.createElement('p');
                        words.appendChild(p);
                    }
                    if(transcript.includes('unicorn')){
                        console.log('unicorn');
                    }
                   
                    console.log(transcript);
                });
                recognition.addEventListener('end', recognition.start);
        
                recognition.start();
        
    </script>
        <!-- <script src="index.js"></script> -->
    </body>
</html>